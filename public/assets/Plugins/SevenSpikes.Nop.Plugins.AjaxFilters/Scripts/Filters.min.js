FiltersManager=function(){this.isOnSearchPage=$(".nopAjaxFilters7Spikes").attr("data-isonsearchpage"),this.keyword=$(".nopAjaxFilters7Spikes").attr("data-searchkeyword"),this.searchCategoryId=$(".nopAjaxFilters7Spikes").attr("data-searchcategoryid"),this.searchManufacturerId=$(".nopAjaxFilters7Spikes").attr("data-searchmanufacturerid"),this.searchVendorId=$(".nopAjaxFilters7Spikes").attr("data-searchvendorid"),this.priceFrom=$(".nopAjaxFilters7Spikes").attr("data-searchpricefrom"),this.priceTo=$(".nopAjaxFilters7Spikes").attr("data-searchpriceto"),this.includeSubcategories=$(".nopAjaxFilters7Spikes").attr("data-searchincludesubcategories"),this.searchInProductDescriptions=$(".nopAjaxFilters7Spikes").attr("data-searchinproductdescriptions"),this.advancedSearch=$(".nopAjaxFilters7Spikes").attr("data-searchadvancedsearch"),this.isRtl="true"===$(".nopAjaxFilters7Spikes").attr("data-isRTL"),this.categoryId=$(".nopAjaxFilters7Spikes").attr("data-categoryId"),this.manufacturerId=$(".nopAjaxFilters7Spikes").attr("data-manufacturerId"),this.vendorId=$(".nopAjaxFilters7Spikes").attr("data-vendorId"),this.getFilteredProductsUrl=$(".nopAjaxFilters7Spikes").attr("data-getFilteredProductsUrl"),this.filtersUIMode=$(".nopAjaxFilters7Spikes").attr("data-filtersUIMode"),this.filtersUIModeEnum={userCheckboxes:"usecheckboxes",useDropDowns:"usedropdowns"},this.selectedFilterGroupElement=void 0,this.selectedFilterOptionElement=void 0,this.isProductRefreshTriggeredByScroll=!1},function(w,A,C){var i=0,a=1,o=2,l=3;function j(){return"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()}function s(e,t){w(e).each(function(){var e=w(this);e.is("select")&&e.val()!==t&&(e.val(t).attr("valueChangedByScript","true"),e.change())})}function t(e){if(0<w(e).length)return e;var t=e.slice(1);return"#"===e.substring(0,1)?"."+t:"."===e.substring(0,1)?"#"+t:e}function n(){return t(w(".nopAjaxFilters7Spikes").attr("data-viewOptionsDropDownSelector")||".products-viewmode, .viewmode-icon")}var h="nop7SpikesAjaxFiltersGrid";function M(e){!0===e.hasClass("closed")?e.removeClass("closed"):e.addClass("closed"),e.parent().siblings(".filtersGroupPanel").slideToggle("slow",function(){w(this).css("overflow","")})}function O(){var e=n(),t=w(e).filter(".selected");return 0<t.length?t.attr("data-dropdownoptionvalue"):w(".viewOptionsDropDown").attr("data-DropDownOptionsSelectedValue")||w(".viewOptionsDropDown").val()||null}function d(e){var t=w(e.currentTarget).attr("data-pageNumber");null!=e.data&&null!=e.data.filtersManager&&e.data.filtersManager.requestProductsForSelectedFilters(void 0,void 0,t,void 0,void 0,!0)}function c(){var e=w(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")+","+w(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector");return w(".master-wrapper-page "+e).not(".featured-product-grid, .nop-jcarousel").last()}function p(){var e=w(".pager .next-page > a").first();if(0!==e.length){var t=c();if(0!==t.length){var r=w(window).outerHeight(),i=w(window).scrollTop();if(t.innerHeight()+t.offset().top<r+i){w(".infinite-scroll-loader").show();var a=new C,o=parseInt(e.attr("data-pageNumber"));a.requestProductsForSelectedFilters(void 0,void 0,o,void 0,void 0,!0,!0)}}}else w(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll")}function u(){if(0===w(".infinite-scroll-loader").length){var e=w(".ajaxBusyPanelParent");0===e.length&&(e=c()),e.append('<div class="infinite-scroll-loader">'+w(".nopAjaxFilters7Spikes").attr("data-infinitescrollloadertext")+"</div>")}}function f(e,t){s(".viewOptionsDropDown",e),t&&(new C).requestProductsForSelectedFilters(void 0,void 0,void 0,void 0,void 0,!0)}function r(e,s){e.each(function(){var e="",t=w(s).val(),r=w.parseJSON(t);if(!w(this).is("select")){var i=".";return null!=r[0]&&r[0].Selected?i+=r[0].Value.toLowerCase():null!=r[1]&&r[1].Selected&&(i+=r[1].Value.toLowerCase()),void w(n()).removeClass("selected").filter(i).first().addClass("selected")}for(var a=0;a<r.length;a++){var o=r[a],l="<option ";o.Disabled&&(l+='disabled="disabled" '),o.Selected&&(l+='selected="selected" '),l+='value="'+o.Value+'">',e+=l+=o.Text+"</option>"}w(this).html(e)})}function e(){var e=w(t(w(".nopAjaxFilters7Spikes").attr("data-sortOptionsDropDownSelector")||".products-orderby"));0!==e.length&&(e.prop("onchange",null),e.addClass("sortOptionsDropDown").off("change").on("change",function(e){e.preventDefault();var t,r,i=w(this),a=null==i.attr("valueChangedByScript");i.removeAttr("valueChangedByScript"),t=i.val(),r=a,s(".sortOptionsDropDown",t),r&&(j()&&w.address.history(!0),(new C).requestProductsForSelectedFilters())}),r(e,"#availableSortOptionsJson"))}function g(){var e=w(t(w(".nopAjaxFilters7Spikes").attr("data-productsPageSizeDropDownSelector")||".products-pagesize"));0!==e.length&&(e.prop("onchange",null),e.addClass("productsPageSizeDropDown").off("change").on("change",function(e){e.preventDefault();var t,r,i=w(this),a=null==i.attr("valueChangedByScript");i.removeAttr("valueChangedByScript"),t=i.val(),r=a,s(".productsPageSizeDropDown",t),r&&(new C).requestProductsForSelectedFilters()}),r(e,"#availablePageSizesJson"))}function v(){var t;e(),0!==(t=w(n())).length&&(t.is("select")?(t.prop("onchange",null),t.addClass("viewOptionsDropDown").off("change").on("change",function(e){e.preventDefault();var t=w(this),r=null==t.attr("valueChangedByScript");t.removeAttr("valueChangedByScript"),f(t.val(),r)})):(t.filter(".grid").attr("data-dropdownoptionvalue","grid"),t.filter(".list").attr("data-dropdownoptionvalue","list"),t.on("click",function(e){if(e.preventDefault(),C.waitForAjaxRequest)return!1;w(this).hasClass("selected")||(t.removeClass("selected"),w(this).addClass("selected"),f(w(this).attr("data-dropdownoptionvalue"),!0))})),r(t,"#availableViewModesJson")),g(),w(document).trigger({type:"ajaxFiltersReplacedDropDownsEvent"})}w.fn.extend({anchorCustomClick:function(t){return w(this).first().on("click",function(e){e.preventDefault(),w(t).trigger("click")})}}),C.prototype.requestProductsForSelectedFilters=function(e,t,c,p,r,i,a,u,o,f,l){if(!C.waitForAjaxRequest&&"#/noFilterApplied"!==p){e&&t&&j()&&w.address.history(!0),this.isProductRefreshTriggeredByScroll=a||!1,null==p?p="":i=!0,this.setSpecificationFilterSelection(e,t);var s=this.getSpecificationFiltersModel(),n=this.getAttributeFiltersModel(),d=this.getManufacturerFiltersModel(),h=this.getVendorFiltersModel(),g=this.getOnSaleFiltersModel(),v=this.getPriceRangeFilterModel(),F=this.getInStockFiltersModel();l&&(s&&(s.Priority=1),n&&(n.Priority=1),d&&(d.Priority=1),h&&(h.Priority=1),v&&(v.Priority=1)),null==c&&(c=null);var S=w(".sortOptionsDropDown").val()||0,P=O(),x=w(".productsPageSizeDropDown").val()||0,m=A.getUrlVar("pageNumber");null==m||null!=c||null!=r&&!1!==r||(c=m),null==i&&(i=!1),o&&(c=o);var y={categoryId:this.categoryId,manufacturerId:this.manufacturerId,vendorId:this.vendorId,priceRangeFilterModel7Spikes:v,specificationFiltersModel7Spikes:s,attributeFiltersModel7Spikes:n,manufacturerFiltersModel7Spikes:d,vendorFiltersModel7Spikes:h,pageNumber:c,orderby:S,viewmode:P,pagesize:x,queryString:p,shouldNotStartFromFirstPage:i,onSaleFilterModel:g,keyword:this.keyword,searchCategoryId:this.searchCategoryId,searchManufacturerId:this.searchManufacturerId,searchVendorId:this.searchVendorId,priceFrom:this.priceFrom,priceTo:this.priceTo,includeSubcategories:this.includeSubcategories,searchInProductDescriptions:this.searchInProductDescriptions,advancedSearch:this.advancedSearch,isOnSearchPage:this.isOnSearchPage,inStockFilterModel:F};this.isProductRefreshTriggeredByScroll||this.showProductPanelAjaxBusy();var k=this,b=this.getFilteredProductsUrl;C.waitForAjaxRequest=!0,w.ajax({cache:!1,type:"POST",data:w.toJSON(y),contentType:"application/json; charset=utf-8",url:b}).done(function(e){if(""!==p&&(k.changeViewModeOrderByAndPageSize(e),k.setPriceRangeValues(e)),k.refreshProducts(e,k.isProductRefreshTriggeredByScroll,f,c)){if(k.refreshFilters(e),f||k.refreshProductsPager(e),k.refreshClearButtons(),"NO HASH QUERY"!==p){k.expandFilterPanelsWithSelectedOptions();var t=w(e).filter("#urlHashQuery").val().toString();""!==t?(k.isProductRefreshTriggeredByScroll&&(t=t.slice(0,t.indexOf("&pageNumber"))),w.address.value(t)):f||w.address.value("noFilterApplied")}k.hideProductPanelAjaxBusy(),C.waitForAjaxRequest=!1;var r=w(".nopAjaxFilters7Spikes").attr("data-scrollToElement");if(!k.isProductRefreshTriggeredByScroll&&null!=r&&"true"===r.toLowerCase()&&!u){var i=w(".nopAjaxFilters7Spikes").attr("data-scrollToElementSelector").split(","),a=".product-selectors";if(null!=i&&0<i.length){for(var o=0;o<i.length;o++)if(0<w(i[o].trim()).length){a=i[o].trim();break}if(0<w(a).length){var l=parseInt(w(".nopAjaxFilters7Spikes").attr("data-scrolltoelementadditionaloffset"))||0,s=w(a).offset().top+l;w("html, body").animate({scrollTop:s},"slow"),w("html, body").animate({scrollTop:s-1},"fast")}}}w(".productPanelAjaxBusy").length<1&&k.addProductPanelAjaxBusyToPage();var n=w(e).filter("#totalCount").val().toString();if(w.event.trigger({type:"nopAjaxFiltersFiltrationCompleteEvent",totalCount:n,isTriggeredByInfiniteScroll:k.isProductRefreshTriggeredByScroll}),"true"===w(".nopAjaxFilters7Spikes").attr("data-showSelectedFiltersPanel").toLowerCase()&&function(){var e=w(".nopAjaxFilters7Spikes").first(),t=w(".block.filter-block.selected-options").first(),r=e.attr("data-selectedOptionsTargetSelector")||".nopAjaxFilters7Spikes .filtersPanel:first",o="usedropdowns"===e.attr("data-filtersuimode");switch(e.attr("data-selectedOptionsTargetAction")){case"insertBefore":t.insertBefore(r);break;case"insertAfter":t.insertAfter(r);break;case"appendTo":t.appendTo(r);break;default:t.prependTo(r)}var d=t.find(".selected-options-list");d.empty(),t.find("a.toggleControl").off("click").on("click",function(){M(w(this))});var i=e.find(".priceRangeFilterPanel7Spikes");if(0<i.length){var a=i.find("#slider"),l=a.attr("data-sliderminvalue"),s=a.attr("data-slidermaxvalue"),n=w(".priceRangeCurrentPricesPanel .currentMinPrice").text(),c=w(".priceRangeCurrentPricesPanel .currentMaxPrice").text();if(0<a.length&&(l!==n||s!==c)){var p=w('<span class="option">'+n+" - "+c+"</span>");p.anchorCustomClick(i.find(".clearPriceRangeFilter"));var u=i.find(".toggleControl").text(),f=w('<li class="price-range-selected-ranges"><label>'+u+":</label></li>");f.append(p),d.append(f)}}var h=[],g=[];e.find(".filter-block").each(function(){var e=w(this);e.find("div.filtersGroupPanel.has-specification-slider").length?h.push(e):g.push(e)}),w.each(h,function(){var e=this.find(".specification-attribute-slider"),t=e.slider("option","min"),r=e.slider("option","max"),i=this.find(".specification-current-value-panel"),a=parseFloat(i.find(".current-min-value").text()),o=parseFloat(i.find(".current-max-value").text());if(t!==a||r!==o){var l=w('<span class="option">'+a+" - "+o+"</span>");l.anchorCustomClick(this.find(".clearFilterOptions"));var s=this.find(".toggleControl").text(),n=w('<li class="value-range-selected-ranges"><label>'+s+":</label></li>");n.append(l),d.append(n)}}),w.each(g,function(){var i=!1,a=w("<li><label>"+this.children(".title").children("a.toggleControl").first().text()+":</label></li>");this.find("[data-option-ids][selected], [data-option-ids][checked]").each(function(){var e=w(this),t=e.text()||e.next("label").text(),r=w('<span class="option">'+t+"</span>");i=!0,o?r.anchorCustomClick(e.closest(".filtersGroupPanel").siblings(".title").children(".clearFilterOptions")):r.anchorCustomClick(e),a.append(r)}),i&&d.append(a)}),0<d.children().length?t.show():(t.hide(),e.prepend(t))}(),"true"!==w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&"false"!==w(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector").toLowerCase()){var d=x;0<w(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel)").length?d=w(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel) .item-box").length:0<w(".page-body .product-list").length&&(d=w(".page-body .product-list .item-box").length),function(e,t){if(null!=e||(e=parseInt(w(".productsPageSizeDropDown .toplevel p").text()),!isNaN(e))){(t=parseInt(t))<e&&(e=t);var r=w(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector")||".product-viewmode",i=w(r);w(".returned-products-filters-panel").children(".allProductsReturned").text(t);var a=w(".number-of-returned-products.sample-element").first();w(".number-of-returned-products").not(a).remove();var o=a.clone();o.removeClass("sample-element"),o.children(".productsPerPage").text(e),o.children(".allProductsReturned").text(t),0===i.length?w(".product-selectors").append(o):i.after(o),o.css("display","").addClass("active")}}(d,n)}}else C.waitForAjaxRequest=!1}).fail(function(){k.hideProductPanelAjaxBusy(),alert("Loading the page failed."),C.waitForAjaxRequest=!1}).always(function(){k.isProductRefreshTriggeredByScroll=!1,j()&&w.address.history(!1)})}},C.prototype.getSpecificationFiltersModel=function(){return this.buildSpecificationFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},C.prototype.getAttributeFiltersModel=function(){return this.buildAttributeFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},C.prototype.getManufacturerFiltersModel=function(){return this.buildManufacturerFiltersModel(this.categoryId,this.selectedFilterGroupElement)},C.prototype.getVendorFiltersModel=function(){return this.buildVendorFiltersModel(this.categoryId,this.selectedFilterGroupElement)},C.prototype.getOnSaleFiltersModel=function(){return this.buildOnSaleFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)},C.prototype.getPriceRangeFilterModel=function(){var e=null;return null!=this.buildPriceRangeFilterModel&&(e=this.buildPriceRangeFilterModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},C.prototype.getInStockFiltersModel=function(){var e=null;return null!=this.buildInStockFiltersModel&&(e=this.buildInStockFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),e},C.prototype.refreshProducts=function(e,t,r,i){var a,o=O()||w(".nopAjaxFilters7Spikes").attr("data-defaultViewMode"),l=this.getProductsPanelSelector(o),s=w("."+h);if(null!=w(e).filter(l).html()){if(1<s.length&&(s=s.last()),t){var n=w(e).filter(l),d=n.find(".item-box");if(n.hasClass("product-grid")?s.hasClass("product-list")&&s.removeClass("product-list").addClass("product-grid"):s.hasClass("product-grid")&&s.removeClass("product-grid").addClass("product-list"),r)for(var c=w(".dummy-box").filter(function(){return w(this).attr("data-pageNumber")===i}),p=d.filter(".item-box"),u=0;u<p.length;u++){var f=w(p.get(u));w(c.get(u)).replaceWith(f)}else w(".infinite-scroll-loader").hide(),s.find(".item-box").last().after(d)}else s.replaceWith(w(e).filter(l));a=!0}else this.hideProductPanelAjaxBusy(),0<w("#nopAjaxFiltersNoProductsDialog").length||s.prepend(w(e).filter("#nopAjaxFiltersNoProductsDialog")),this.showNoProductsModalDialog(),a=!1;return a},C.prototype.refreshProductsPager=function(e){var t=this.getPagerPanelSelector(),r=w(t);if(void 0!==e){var i=w(e).filter(t);if(0===r.length&&0<i.length){var a=w(".nopAjaxFilters7Spikes").attr("data-pagerpanelintegrationselector")||".product-grid, .product-list",o=w(a);0<o.length&&(o.hasClass("product-grid")||o.hasClass("product-list"))&&(o=o.not(".featured-product-grid, .nop-jcarousel").last()),0===o.length&&(o=c()),o.after('<div class="pager"></div>'),r=w(t)}"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&r.hide(),r.html(i.html()),0<r.length&&0===i.length&&r.remove()}this.setPagerLinks(r)},C.prototype.setPagerLinks=function(e){var i=this;e.find("a").each(function(){var e=w(this).attr("href"),t="";if(null!=e){e=e.toLowerCase();var r=/pagenumber=(\d+)/.exec(e);null!=r&&1<r.length&&(t=r[1])}w(this).removeAttr("href"),w(this).attr("data-pageNumber",t),w(this).click({filtersManager:i},d)})},C.prototype.getProductsPanelSelector=function(e){return"list"===e?w(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector")||".product-list":w(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")||".product-grid"},C.prototype.getPagerPanelSelector=function(){return w(".nopAjaxFilters7Spikes").attr("data-pagerPanelSelector")||".pager"},C.prototype.clearFilterOptions=function(e){var t=w(e.currentTarget).parent().siblings(".filtersGroupPanel");e.data.filtersManager.clearFilterOptionsForFiltersGroupElement(t)},C.prototype.clearFilterOptionsForFiltersGroupElement=function(e){e.find("[data-option-ids]").removeAttr("checked selected");var t=e.find(".select-wrap");0<t.length&&t.find(".select-inner").text(t.find("select option:selected").text()),e.hasClass("has-specification-slider")&&this.clearSliderSpecificationValues(e),this.requestProductsForSelectedFilters(e,void 0)},C.prototype.clearSliderSpecificationValues=function(e){var t=e.find(".specification-attribute-slider"),r=t.slider("option","min"),i=t.slider("option","max");t.slider("option",{values:[r,i]});var a=e.find(".specification-current-value-panel");a.find(".current-min-value").html(r),a.find(".current-max-value").html(i)},C.prototype.selectAllFilterDropDownOption=function(e){var t=w(e.currentTarget).closest(".filtersGroupPanel");this.clearFilterOptionsForFiltersGroupElement(t)},C.prototype.clearAllFilterOptions=function(e){var t=e.data.filtersManager;w(".nopAjaxFilters7Spikes .filtersGroupPanel").find("[data-option-ids]").removeAttr("checked selected disabled"),w(".nopAjaxFilters7Spikes .select-wrap").each(function(){var e=w(this);e.find(".select-inner").text(e.find("select option:selected").text())}),w(".nopAjaxFilters7Spikes .filtersGroupPanel.has-specification-slider").each(function(){var e=w(this);t.clearSliderSpecificationValues(e)}),t.clearPriceRangeFilterControl(),t.requestProductsForSelectedFilters(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0)},C.prototype.refreshClearButtons=function(){var i=!1;w(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var e=w(this),t=!1;e.find("[data-option-ids]").each(function(){var e=w(this);if(e.is(":selected")||e.is(":checked"))return!(t=!0)});var r=e.parent().find("a.clearFilterOptions");t?(r.show(),i=!0):r.hide()});var e=w(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(i)e.show();else{var t=!1;null!=this.determineIfPriceRangeHasBeenSelected&&(t=this.determineIfPriceRangeHasBeenSelected()),t?e.show():e.hide()}},C.prototype.expandFilterPanelsWithSelectedOptions=function(){w(".clearPriceRangeFilter, .clearFilterOptions").filter(":visible").siblings("a.toggleControl.closed").click()},C.prototype.changeViewModeOrderByAndPageSize=function(e){var t=w(e).filter("#currentPageSizeJson").val(),r=w.parseJSON(t),i=w(e).filter("#currentOrderByJson").val(),a=w.parseJSON(i),o=w(e).filter("#currentViewModeJson").val(),l=w.parseJSON(o);s(".sortOptionsDropDown",a),s(".viewOptionsDropDown",l),s(".productsPageSizeDropDown",r),w(n()).removeClass("selected").filter("."+l).addClass("selected")},C.prototype.setPriceRangeValues=function(e){var t=w(e).filter("#priceRangeFromJson").val().toString(),r=t?w.parseJSON(t):null,i=w(e).filter("#priceRangeToJson").val().toString(),a=i?w.parseJSON(i):null;null!=this.SetSliderValues&&this.SetSliderValues(r,a)},C.prototype.refreshFilters=function(e){var t=this,r=w(e).filter("#specificationFilterModel7SpikesJson").val().toString(),i=r?w.parseJSON(r):null;t.refreshSpecificationFilters(i,t.filtersUIMode);var a=w(e).filter("#attributeFilterModel7SpikesJson").val().toString(),o=a?w.parseJSON(a):null;t.refreshAttributeFilters(o,t.filtersUIMode);var l=w(e).filter("#manufacturerFilterModel7SpikesJson").val().toString(),s=l?w.parseJSON(l):null;t.refreshManufacturerFilters(s,t.filtersUIMode);var n=w(e).filter("#vendorFilterModel7SpikesJson").val().toString(),d=n?w.parseJSON(n):null;t.refreshVendorFilters(d,t.filtersUIMode);var c=w(e).filter("#onSaleFilterModel7SpikesJson").val().toString(),p=c?w.parseJSON(c):null;t.refreshOnSaleFilters(p,t.filtersUIMode);var u=w(e).filter("#inStockFilterModel7SpikesJson").val().toString(),f=u?w.parseJSON(u):null;t.refreshInStockFilters(f,t.filtersUIMode),w(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var e=w(this),t=!0;e.find("[data-option-ids]").each(function(){if(!w(this).is(":disabled"))return t=!1}),t?e.find("select").attr("disabled","disabled"):e.find("select").removeAttr("disabled"),e.toggleClass("disabled",t)})},C.prototype.executeReverseInfiniteScroll=function(e){(new C).requestProductsForSelectedFilters(void 0,void 0,e,void 0,void 0,!0,!0,void 0,void 0,!0)},C.prototype.clearPriceRangeFilterControl=function(){},C.prototype.refreshManufacturerFilters=function(){},C.prototype.refreshVendorFilters=function(){},C.prototype.refreshSpecificationFilters=function(){},C.prototype.refreshAttributeFilters=function(){},C.prototype.refreshOnSaleFilters=function(){},C.prototype.refreshInStockFilters=function(){},C.prototype.buildManufacturerFiltersModel=function(){},C.prototype.buildVendorFiltersModel=function(){},C.prototype.buildSpecificationFiltersModel=function(){},C.prototype.buildAttributeFiltersModel=function(){},C.prototype.buildOnSaleFiltersModel=function(){},C.prototype.addProductPanelAjaxBusyToPage=function(){var e=c();e.addClass("ajaxBusyPanelParent "+h),e.css("position","relative"),e.append(w('<div class="productPanelAjaxBusy"></div><div class="clear"></div>')),w(".productPanelAjaxBusy").hide(),u()},C.prototype.adjustMinMaxValuesIfInRTL=function(e,t,r,i){var a={minValue:r,maxValue:i};if(this.isRtl){var o=parseFloat((e-r).toFixed(2)),l=parseFloat((t-i).toFixed(2));a.minValue=parseFloat((e+l).toFixed(2)),a.maxValue=parseFloat((t+o).toFixed(2))}return a},C.prototype.setSpecificationFilterSelection=function(e,t){this.selectedFilterGroupElement=e,this.selectedFilterOptionElement=t},C.prototype.showNoProductsModalDialog=function(e){var t=w(e=e||"#nopAjaxFiltersNoProductsDialog"),r=t.data("kendoWindow"),i=t.attr("title")||"NO RESULTS FOUND";r||(r=t.kendoWindow({draggable:!1,resizable:!1,width:"300px",height:"100px",title:i,modal:!0,actions:["Close"],animation:!1,visible:!1}).data("kendoWindow")).wrapper.addClass("ajaxFilters"),r.center(),r.open(),w(document).on("click",".k-overlay",function(){r.close()})},C.prototype.showProductPanelAjaxBusy=function(){w(".productPanelAjaxBusy").show()},C.prototype.hideProductPanelAjaxBusy=function(){w(".productPanelAjaxBusy").hide()},C.getFilterItemStateBasedOnAttributes=function(e){var t=e.is(":selected")||e.is(":checked"),r=e.is(":disabled");return t&&r?"CheckedDisabled":t&&!r?"Checked":!t&&r?"Disabled":"Unchecked"},C.waitForAjaxRequest=!1,C.addStateClassToCheckBoxParent=function(e,t){var r=e.parent("li");0!==r.length&&(t!==a&&t!==o||(r.addClass("checked"),t===a&&r.removeClass("disabled")),t!==o&&t!==l||r.addClass("disabled"),t===i&&r.removeClass("checked disabled"))},C.addStateAttributesToOption=function(e,t,r){t!==a&&t!==o||(r?e.attr("selected","selected").trigger("change"):e.attr("checked","checked"),t===a&&e.removeAttr("disabled")),t!==o&&t!==l||e.attr("disabled","disabled"),t===i&&e.removeAttr("checked selected disabled")},C.addStateClassAndAttributesToOption=function(e,t,r){var i=!1;return t===a&&(i=!0),r||C.addStateClassToCheckBoxParent(e,t),C.addStateAttributesToOption(e,t,r),i},w(document).ready(function(){var e=new C;e.addProductPanelAjaxBusyToPage(),w(".nopAjaxFilters7Spikes .block .title a.toggleControl").off("click").on("click",function(){M(w(this))}),w(".nopAjaxFilters7Spikes .block .title a.clearFilterOptions").each(function(){w(this).click({filtersManager:e},e.clearFilterOptions),w(this).hide()}),w(".nopAjaxFilters7Spikes .filtersDropDown a.allFilterDropDownOptions").each(function(){w(this).click({filtersManager:e},e.selectAllFilterDropDownOption)});var t=w(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(t.click({filtersManager:e},e.clearAllFilterOptions),t.hide(),e.refreshProductsPager(),e.filtersUIMode===e.filtersUIModeEnum.useDropDowns){var r=w(".filtersDropDownPanel.filtersGroupPanel"),i=r.length+100;r.each(function(){w(this).css("z-index",i--)})}function a(){w(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll").on("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll",function(){p()}),p()}"true"===w(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&(u(),w(".product-page-size, "+w(".nopAjaxFilters7Spikes").attr("data-pagerpanelselector")).hide(),w(".product-selectors").addClass("infinite-scroll-enabled"),w(document).on("nopAjaxFiltersFiltrationCompleteEvent",a),window.location.hash&&"#/noFilterApplied"!==window.location.hash||a()),w(".filtersGroupSearchInput").on("keyup",function(){var n=w(this).val().toLowerCase(),e=w(this).parent().next(".checkbox-list").children();""===n?e.each(function(){var e=w(this),t=e.find("label"),r=t.data("originaltext");t.html(r),e.show()}):e.each(function(){var e=w(this),t=e.find("label"),r=t.data("originaltext"),i=r.toLowerCase().indexOf(n);if(-1!==i){var a=r.substring(i,i+n.length);if(0===i){var o=r.substring(a.length);t.html("<strong>"+a+"</strong>"+o)}else if(0<i){var l=r.slice(0,i),s=r.slice(i+n.length);t.html(l+"<strong>"+a+"</strong>"+s)}e.show()}else e.hide()})})}),w(window).unload(function(){j()&&w.address.history(!0)}),w(document).ready(function(){v(),j()&&w.address.history(!1)})}(jQuery,sevenSpikesCore,FiltersManager);